<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><meta name=msapplication-TileColor content="#1793d0"><meta name=theme-color content="#1793d0"><title>Solution to the ssh error 'no matching host key type found. Their offer: ssh-rsa' | Ma1icious' Blog</title><meta property="og:title" content="Solution to the ssh error 'no matching host key type found. Their offer: ssh-rsa' - Ma1icious' Blog"><meta property="og:type" content="article"><meta property="article:published_time" content="2023-04-11T15:33:21+08:00"><meta property="article:modified_time" content="2023-04-11T15:33:21+08:00"><meta name=keywords content="HTML,hugo,CSS"><meta name=description content="Solution to the ssh error 'no matching host key type found. Their offer: ssh-rsa'"><meta name=author content><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=stylesheet type=text/css href=/css/hulga.min.css><link rel=stylesheet type=text/css href=/css/hulga-dark.min.css media="(prefers-color-scheme: dark)"><link rel=manifest href=/manifest.json></head><body><div id=main><section class="hero is-primary shadow-hero"><div class=hero-head><nav class="navbar is-primary"><div class=container><div class=navbar-brand><a class=navbar-item href=/>Ma1icious' Blog</a>
<a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a></div><div class=navbar-menu id=navMenu><div class=navbar-end><a class=navbar-item href=/ title=index>Home</a>
<a class=navbar-item href=/archives/ title=archives>Archives</a>
<a class=navbar-item href=/tags/ title=tags>Tags</a>
<a class=navbar-item href=/categories/ title=categories>Categories</a></div></div></div></nav></div><div class=hero-body><header class="container has-text-centered"><h1 class="title post-title">Solution to the ssh error 'no matching host key type found. Their offer: ssh-rsa'</h1><h2 class=subtitle><time class=post-meta>2023/04/11</time> ・
<span class="post-tag post-meta"><a href=/categories/system>system</a></span></h2><div class="tagbox post-meta"><span class=post-tag><a href=/tags/error>#error</a></span>
<span class=post-tag><a href=/tags/solution>#solution</a></span>
<span class=post-tag><a href=/tags/ssh>#ssh</a></span></div></header></div></section><section class=section><div class=container><div class=columns><div class="column is-1 is-hidden-mobile"></div><div class="column is-8"><article class=content id=post-content><h2 id=introduction>Introduction</h2><p>When using SSH-related commands, the following errors may occur:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Ma1icious@host bin % scp hackfile root@192.168.1.7:/root
</span></span><span class=line><span class=cl>Unable to negotiate with 192.168.1.7 port 22: no matching host key <span class=nb>type</span> found. Their offer: ssh-rsa
</span></span><span class=line><span class=cl>scp: Connection closed
</span></span></code></pre></div><h2 id=solution-1>Solution 1</h2><p>This can be solved by adding <code>-oHostKeyAlgorithms=+ssh-rsa</code> to the executed command, as shown below:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>Ma1icious@host bin % scp -oHostKeyAlgorithms<span class=o>=</span>+ssh-rsa hackfile root@192.168.1.7:/root
</span></span><span class=line><span class=cl>The authenticity of host <span class=s1>&#39;192.168.1.7 (192.168.1.7)&#39;</span> can<span class=s1>&#39;t be established.
</span></span></span><span class=line><span class=cl><span class=s1>RSA key fingerprint is SHA256:E5pAVK3/y+4WjslWOGtUIEcWgFRZZQFKtHDM161vldM.
</span></span></span><span class=line><span class=cl><span class=s1>This host key is known by the following other names/addresses:
</span></span></span><span class=line><span class=cl><span class=s1>    ~/.ssh/known_hosts:13: 192.168.1.6
</span></span></span><span class=line><span class=cl><span class=s1>Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
</span></span></span><span class=line><span class=cl><span class=s1>Warning: Permanently added &#39;</span>192.168.1.7<span class=s1>&#39; (RSA) to the list of known hosts.
</span></span></span><span class=line><span class=cl><span class=s1>root@192.168.1.7&#39;</span>s password: 
</span></span><span class=line><span class=cl>hackfile                                          100%  882KB   1.0MB/s   00:00
</span></span></code></pre></div><h2 id=solution-2>Solution 2</h2><p>Edit <code>~/.ssh/config</code> and add the following to it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Host *
</span></span><span class=line><span class=cl>HostkeyAlgorithms +ssh-rsa
</span></span><span class=line><span class=cl>PubkeyAcceptedKeyTypes +ssh-rsa
</span></span></code></pre></div></article></div><div class="column is-hidden-mobile"><div class=sidebar id=toc><div class="post post-toc" id=post-toc></div></div></div></div></div></div></section></div><footer class=footer><div class="content has-text-centered"><p>Powered by <a href=https://gohugo.io>Hugo</a>. Theme <a href=https://www.github.com/wlh320/hugo-theme-hulga>Hulga</a></p><p>Copyright © 2020 wlh. All rights reserved.</p></div></footer><script src=https://Ma1icious.github.io/js/pwa.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js></script><script>addBackToTop({diameter:42,backgroundColor:"#1793d0",innerHTML:'<svg viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>',textColor:"#fff"})</script>
<script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{const e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n.classList.toggle("is-active")})})})</script><link id=hlcss rel=stylesheet type=text/css><script>function addCss(e){var t=document.getElementById("hlcss");t.href=e}var darkcss="https://Ma1icious.github.io/css/monokai.css",lightcss="https://Ma1icious.github.io/css/monokailight.css";window.matchMedia("(prefers-color-scheme)").media==="not all"?addCss(lightcss):addCss(window.matchMedia("(prefers-color-scheme: dark)").matches?darkcss:lightcss),window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>e.matches&&addCss(darkcss)),window.matchMedia("(prefers-color-scheme: light)").addListener(e=>e.matches&&addCss(lightcss))</script><script src=https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js></script><script>anchors.options={placement:"left",icon:"#"},anchors.add(".content h1, .content h2, .content h3")</script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity="sha256-tn6hZ2YGDv0w1/DaFL4MiUoXuAVclrtFZs13ch3TB9M=" crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity="sha256-1qhJwAgsSPVSSjlQVTewHS49eaoAbOz651dveUANVBI=" crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity="sha256-oEuQVLwO5Ii6subChtLbrY5gx7NDRU+UJJ9jvvau+FI=" crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]})})</script>
<link rel=stylesheet type=text/css href=https://Ma1icious.github.io/css/toc.min.css><script src=https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js></script>
<script>tocbot.init({tocSelector:".post-toc",contentSelector:"#post-content",headingSelector:"h1, h2, h3",collapseDepth:0,scrollSmooth:!0,positionFixedSelector:".post-toc",fixedSidebarOffset:273})</script></body></html>